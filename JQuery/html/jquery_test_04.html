
<html>
<meta charset="UTF-8">
<head>
	<script src="jquery-1.11.0.min.js"></script>
	<script>
		//**********************************************
		//$(document).ready(   function(){자스코딩}  );
		//**********************************************
			// body 태그 안의 요소들을 읽어들인 후 익명함수 내부의 자스코딩을 실행.
		$(document).ready(function(){
			// --------------------------------------------------------
			// obj1 변수 선언하고 name='hobby_all' 을 가진 태그를 관리하는 JQuery 객체 생성해서 
			// 객체의 메위주를 obj1 에 저장하기.
			// --------------------------------------------------------
			var obj1 = $("[name='hobby_all']");
			// --------------------------------------------------------
			// obj2 변수 선언하고 name='hobby' 을 가진 태그를 관리하는 JQuery 객체 생성해서 
			// 객체의 메위주를 obj2 에 저장하기.
			// --------------------------------------------------------
			var obj2 = $("[name='hobby']");
			// --------------------------------------------------------
			// obj1 에 저장된 JQuery 객체가 관리하는 태그에 change 이벤트가 발생하면
			// 실행할 구문 설정하기.
			// --------------------------------------------------------
			obj1.change(
				function(){
					// ------------------------------------------------
					// 변수 isChecked 선언하고, change 이벤트가 발생한 것의 체크여부를 저장하기
					// <주의> 현재 this 는 change 이벤트가 발생한 태그를 지칭하는 선택자.  
					// ------------------------------------------------
					var isChecked = $(this).prop("checked");
					// ------------------------------------------------
					// 변수 isChecked 에 true 가 저장되어 있으면,
					// 즉, change 이벤트가 발생한 것이 체크가 되어 있으면 
					// 즉, 전체가 체크되어 있으면
					// ------------------------------------------------
					if( isChecked==true ){
						// 변수 obj2 에 저장된 JQuery 객체가 관리하는 태그에
						// 체크를 넣기.  
						obj2.prop("checked", true);
					}
					// ------------------------------------------------
					// 변수 isChecked 에 false 가 저장되어 있으면,
					// 즉, change 이벤트가 발생한 것이 체크가 안되어 있으면 
					// ------------------------------------------------
					else{
						// 변수 obj2 에 저장된 JQuery 객체가 관리하는 태그에
						// 체크를 빼기.  
						obj2.prop("checked", false);
					}

					// -------------------------------------
					// 위 코드를 줄여서 만든 식.
					// <참고> 위 모든 코드는 이것으로 대체가 가능하다.
					// -------------------------------------
					// obj2.prop( "checked", $(this).prop("checked") )

				}
			);
			// --------------------------------------------------------
			// obj2 에 저장된 JQuery 객체가 관리하는 태그에 change 이벤트가 발생하면
			// 실행할 구문 설정하기.
			// 즉, 독서, 운동, 여행, 수집 으로 표현되는 체크박스에 체크가 들어가거나 체크가 빠지면
			// 실행할 구문 설정하기.
			// --------------------------------------------------------
			obj2.change(
				function(){
					
					// ------------------------------------------
					// obj1 에 저장된 JQuery 객체가 관리하는 태그에
					// obj2.filter(":checked").length==obj2.length 의 실행결과에 따라
					// 체크를 넣어주거나, 빼주기
					// 즉, obj2.filter(":checked").length==obj2.length 가 true 면 체크가 들어가는것이고
					//     obj2.filter(":checked").length==obj2.length 가 false 면 체크가 빠지는것이다. 
					// obj2.filter(":checked").length==obj2.length 의 의미
					// 체크된 것의 개수와 존재하는 것의 개수가 같으면 true, 다르면 false
					// 체크된 것의 개수와 존재하는 것의 개수가 같다라는 말은 모두 체크되어 있다는 말이다.
					// ------------------------------------------
					obj1.prop( "checked", obj2.filter(":checked").length==obj2.length );
		
				}
			);
			// --------------------------------------------------------














			/*

			// 내가 한것.  

			var obj1 = $("[name='hobby_all']");
			var obj2 = $("[name='hobby']");

			obj1.change(
				function(){
					
					var thisAll = obj1.prop("checked");
				
					if( thisAll==true ){
						
						obj2.prop("checked", true);
			
					}
					else{
						obj2.prop("checked", false);
					}
				}
			);


			obj2.change(
				function(){
					
					// var thisObj = $(this);

					// var thisAll = obj1.prop("checked");
				
					// var isChecked = thisObj.prop("checked");

					if( obj2.filter(":checked").length==obj2.length ){
						
						obj1.prop("checked", true);
						
					}
					else{
						obj1.prop("checked", false);
					}
					
				}
			);
			
			*/






		});

	</script>
</head>
<body><center>
	<hr>
	<input type="checkbox" name="hobby_all" >전체
	<hr>
	<input type="checkbox" name="hobby" value="독서">독서<br>
	<input type="checkbox" name="hobby" value="운동">운동<br>
	<input type="checkbox" name="hobby" value="여행">여행<br>
	<input type="checkbox" name="hobby" value="수집">수집
</body>

</html>


